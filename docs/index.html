<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agent Sandbox - Secure Code Execution for AI Agents</title>
    <style>
        :root {
            --bg-primary: #0d1117;
            --bg-secondary: #161b22;
            --bg-tertiary: #21262d;
            --text-primary: #f0f6fc;
            --text-secondary: #8b949e;
            --accent: #58a6ff;
            --accent-hover: #79b8ff;
            --success: #3fb950;
            --warning: #d29922;
            --error: #f85149;
            --border: #30363d;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        header {
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border);
            padding: 20px 0;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.5rem;
            font-weight: 600;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--success), var(--accent));
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        nav a {
            color: var(--text-secondary);
            text-decoration: none;
            margin-left: 24px;
            transition: color 0.2s;
        }

        nav a:hover {
            color: var(--accent);
        }

        .hero {
            padding: 80px 0;
            text-align: center;
            background: linear-gradient(180deg, var(--bg-secondary) 0%, var(--bg-primary) 100%);
        }

        .hero h1 {
            font-size: 3rem;
            margin-bottom: 20px;
            background: linear-gradient(135deg, var(--text-primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .hero p {
            font-size: 1.25rem;
            color: var(--text-secondary);
            max-width: 600px;
            margin: 0 auto 30px;
        }

        .cta-buttons {
            display: flex;
            justify-content: center;
            gap: 16px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 24px;
            border-radius: 6px;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.2s;
        }

        .btn-primary {
            background: var(--accent);
            color: var(--bg-primary);
        }

        .btn-primary:hover {
            background: var(--accent-hover);
        }

        .btn-secondary {
            background: var(--bg-tertiary);
            color: var(--text-primary);
            border: 1px solid var(--border);
        }

        .btn-secondary:hover {
            border-color: var(--accent);
        }

        .features {
            padding: 80px 0;
        }

        .features h2 {
            text-align: center;
            font-size: 2rem;
            margin-bottom: 50px;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
        }

        .feature-card {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 24px;
            transition: border-color 0.2s;
        }

        .feature-card:hover {
            border-color: var(--accent);
        }

        .feature-icon {
            font-size: 2rem;
            margin-bottom: 16px;
        }

        .feature-card h3 {
            font-size: 1.25rem;
            margin-bottom: 12px;
        }

        .feature-card p {
            color: var(--text-secondary);
            font-size: 0.95rem;
        }

        .code-section {
            padding: 80px 0;
            background: var(--bg-secondary);
        }

        .code-section h2 {
            text-align: center;
            font-size: 2rem;
            margin-bottom: 40px;
        }

        .code-examples {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
            gap: 24px;
        }

        .code-block {
            background: var(--bg-primary);
            border: 1px solid var(--border);
            border-radius: 8px;
            overflow: hidden;
        }

        .code-header {
            background: var(--bg-tertiary);
            padding: 12px 16px;
            font-size: 0.9rem;
            color: var(--text-secondary);
            border-bottom: 1px solid var(--border);
        }

        .code-content {
            padding: 16px;
            overflow-x: auto;
        }

        pre {
            margin: 0;
            font-family: 'Fira Code', 'Monaco', monospace;
            font-size: 0.9rem;
            line-height: 1.5;
        }

        .keyword { color: #ff7b72; }
        .string { color: #a5d6ff; }
        .function { color: #d2a8ff; }
        .comment { color: #8b949e; }
        .class { color: #ffa657; }
        .number { color: #79c0ff; }

        .architecture {
            padding: 80px 0;
        }

        .architecture h2 {
            text-align: center;
            font-size: 2rem;
            margin-bottom: 40px;
        }

        .arch-diagram {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 40px;
            text-align: center;
        }

        .arch-layers {
            display: flex;
            flex-direction: column;
            gap: 20px;
            max-width: 800px;
            margin: 0 auto;
        }

        .arch-layer {
            background: var(--bg-tertiary);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 20px;
        }

        .arch-layer h4 {
            margin-bottom: 10px;
            color: var(--accent);
        }

        .arch-components {
            display: flex;
            justify-content: center;
            gap: 16px;
            flex-wrap: wrap;
        }

        .arch-component {
            background: var(--bg-primary);
            border: 1px solid var(--border);
            border-radius: 6px;
            padding: 10px 16px;
            font-size: 0.9rem;
        }

        .security-section {
            padding: 80px 0;
            background: var(--bg-secondary);
        }

        .security-section h2 {
            text-align: center;
            font-size: 2rem;
            margin-bottom: 40px;
        }

        .security-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .security-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            background: var(--bg-primary);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 16px;
        }

        .security-icon {
            color: var(--success);
            font-size: 1.5rem;
        }

        .security-item h4 {
            font-size: 1rem;
            margin-bottom: 4px;
        }

        .security-item p {
            color: var(--text-secondary);
            font-size: 0.85rem;
        }

        .api-section {
            padding: 80px 0;
        }

        .api-section h2 {
            text-align: center;
            font-size: 2rem;
            margin-bottom: 40px;
        }

        .api-table {
            width: 100%;
            border-collapse: collapse;
            background: var(--bg-secondary);
            border-radius: 8px;
            overflow: hidden;
        }

        .api-table th, .api-table td {
            padding: 16px;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }

        .api-table th {
            background: var(--bg-tertiary);
            color: var(--accent);
            font-weight: 600;
        }

        .api-table td:first-child {
            font-family: 'Fira Code', monospace;
            color: var(--accent);
        }

        footer {
            background: var(--bg-secondary);
            border-top: 1px solid var(--border);
            padding: 40px 0;
            text-align: center;
        }

        footer p {
            color: var(--text-secondary);
        }

        footer a {
            color: var(--accent);
            text-decoration: none;
        }

        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2rem;
            }

            .code-examples {
                grid-template-columns: 1fr;
            }

            .header-content {
                flex-direction: column;
                gap: 20px;
            }

            nav a {
                margin: 0 12px;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon">&#128274;</div>
                    <span>Agent Sandbox</span>
                </div>
                <nav>
                    <a href="#features">Features</a>
                    <a href="#examples">Examples</a>
                    <a href="#architecture">Architecture</a>
                    <a href="#api">API</a>
                    <a href="https://github.com/BabyChrist666/agent-sandbox">GitHub</a>
                </nav>
            </div>
        </div>
    </header>

    <section class="hero">
        <div class="container">
            <h1>Secure Code Execution for AI Agents</h1>
            <p>Run untrusted code safely with fine-grained permissions, multiple isolation backends, and comprehensive audit logging.</p>
            <div class="cta-buttons">
                <a href="https://github.com/BabyChrist666/agent-sandbox" class="btn btn-primary">View on GitHub</a>
                <a href="#examples" class="btn btn-secondary">See Examples</a>
            </div>
        </div>
    </section>

    <section class="features" id="features">
        <div class="container">
            <h2>Key Features</h2>
            <div class="feature-grid">
                <div class="feature-card">
                    <div class="feature-icon">&#128274;</div>
                    <h3>Permission System</h3>
                    <p>Fine-grained control over file, network, and process access with glob patterns, port restrictions, and command filtering.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">&#128230;</div>
                    <h3>Multiple Isolation Backends</h3>
                    <p>Choose between process-based isolation for speed or container-based isolation for maximum security.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">&#128203;</div>
                    <h3>Audit Logging</h3>
                    <p>Track all sandbox operations with filtering, export capabilities, and real-time callbacks for monitoring.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">&#128737;</div>
                    <h3>Pattern Detection</h3>
                    <p>Automatically detect and block dangerous code patterns like subprocess calls, network access, and dynamic imports.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">&#9201;</div>
                    <h3>Resource Limits</h3>
                    <p>Configure timeout, memory limits, and output size constraints to prevent resource exhaustion.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">&#128279;</div>
                    <h3>Multi-Language Support</h3>
                    <p>Execute Python, JavaScript (Node.js), Ruby, and shell scripts in the same sandbox environment.</p>
                </div>
            </div>
        </div>
    </section>

    <section class="code-section" id="examples">
        <div class="container">
            <h2>Code Examples</h2>
            <div class="code-examples">
                <div class="code-block">
                    <div class="code-header">Basic Usage</div>
                    <div class="code-content">
<pre><span class="keyword">from</span> agent_sandbox <span class="keyword">import</span> Sandbox, create_sandbox

<span class="comment"># Create sandbox with default settings</span>
sandbox = <span class="class">Sandbox</span>()

<span class="comment"># Execute code safely</span>
result = sandbox.<span class="function">execute</span>(<span class="string">'print("Hello!")'</span>)
<span class="keyword">print</span>(result.stdout)  <span class="comment"># Hello!</span>

<span class="comment"># Use helper for common configs</span>
sandbox = <span class="function">create_sandbox</span>(
    timeout=<span class="number">60.0</span>,
    allow_file_read=<span class="keyword">True</span>,
    allowed_paths=[<span class="string">"/tmp/*"</span>],
)</pre>
                    </div>
                </div>
                <div class="code-block">
                    <div class="code-header">Permission Configuration</div>
                    <div class="code-content">
<pre><span class="keyword">from</span> agent_sandbox.permissions <span class="keyword">import</span> (
    PermissionSet, FilePermission,
    NetworkPermission, PermissionLevel,
)

permissions = <span class="class">PermissionSet</span>()

<span class="comment"># File permissions with patterns</span>
permissions.<span class="function">add</span>(<span class="class">FilePermission</span>(
    level=PermissionLevel.READ,
    allowed_paths=[<span class="string">"/data/*"</span>],
    denied_paths=[<span class="string">"/data/secrets/*"</span>],
))

<span class="comment"># Network with host control</span>
permissions.<span class="function">add</span>(<span class="class">NetworkPermission</span>(
    allow_outbound=<span class="keyword">True</span>,
    allowed_hosts=[<span class="string">"api.openai.com"</span>],
))</pre>
                    </div>
                </div>
                <div class="code-block">
                    <div class="code-header">Code Validation</div>
                    <div class="code-content">
<pre><span class="keyword">from</span> agent_sandbox <span class="keyword">import</span> Sandbox

sandbox = <span class="class">Sandbox</span>()

<span class="comment"># Validate without executing</span>
result = sandbox.<span class="function">validate</span>(<span class="string">'''
import subprocess
subprocess.run(["rm", "-rf", "/"])
'''</span>)

<span class="keyword">if not</span> result[<span class="string">"valid"</span>]:
    <span class="keyword">for</span> issue <span class="keyword">in</span> result[<span class="string">"issues"</span>]:
        <span class="keyword">print</span>(<span class="string">f"Blocked: </span>{issue[<span class="string">'pattern'</span>]}<span class="string">"</span>)
        <span class="keyword">print</span>(<span class="string">f"Reason: </span>{issue[<span class="string">'reason'</span>]}<span class="string">"</span>)</pre>
                    </div>
                </div>
                <div class="code-block">
                    <div class="code-header">Audit Logging</div>
                    <div class="code-content">
<pre><span class="keyword">from</span> agent_sandbox.audit <span class="keyword">import</span> AuditLog

<span class="keyword">def</span> <span class="function">on_denied</span>(entry):
    <span class="keyword">if not</span> entry.allowed:
        <span class="keyword">print</span>(<span class="string">f"DENIED: </span>{entry.action}<span class="string">"</span>)

audit = <span class="class">AuditLog</span>(on_entry=on_denied)

<span class="comment"># Get summary statistics</span>
summary = audit.<span class="function">get_summary</span>()
<span class="keyword">print</span>(<span class="string">f"Total: </span>{summary[<span class="string">'total_entries'</span>]}<span class="string">"</span>)
<span class="keyword">print</span>(<span class="string">f"Denied: </span>{summary[<span class="string">'denied'</span>]}<span class="string">"</span>)

<span class="comment"># Export for analysis</span>
audit.<span class="function">export_to_file</span>(<span class="string">"audit.jsonl"</span>)</pre>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="architecture" id="architecture">
        <div class="container">
            <h2>Architecture</h2>
            <div class="arch-diagram">
                <div class="arch-layers">
                    <div class="arch-layer">
                        <h4>API Layer</h4>
                        <div class="arch-components">
                            <div class="arch-component">Sandbox</div>
                            <div class="arch-component">SandboxConfig</div>
                            <div class="arch-component">create_sandbox()</div>
                        </div>
                    </div>
                    <div class="arch-layer">
                        <h4>Execution Layer</h4>
                        <div class="arch-components">
                            <div class="arch-component">CodeExecutor</div>
                            <div class="arch-component">ExecutionContext</div>
                            <div class="arch-component">Pattern Detection</div>
                        </div>
                    </div>
                    <div class="arch-layer">
                        <h4>Permission Layer</h4>
                        <div class="arch-components">
                            <div class="arch-component">FilePermission</div>
                            <div class="arch-component">NetworkPermission</div>
                            <div class="arch-component">ProcessPermission</div>
                        </div>
                    </div>
                    <div class="arch-layer">
                        <h4>Isolation Layer</h4>
                        <div class="arch-components">
                            <div class="arch-component">ProcessIsolation</div>
                            <div class="arch-component">ContainerIsolation</div>
                        </div>
                    </div>
                    <div class="arch-layer">
                        <h4>Audit Layer</h4>
                        <div class="arch-components">
                            <div class="arch-component">AuditLog</div>
                            <div class="arch-component">AuditEntry</div>
                            <div class="arch-component">Export/Filter</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="security-section">
        <div class="container">
            <h2>Security Features</h2>
            <div class="security-grid">
                <div class="security-item">
                    <div class="security-icon">&#10003;</div>
                    <div>
                        <h4>Default Deny</h4>
                        <p>All permissions denied by default</p>
                    </div>
                </div>
                <div class="security-item">
                    <div class="security-icon">&#10003;</div>
                    <div>
                        <h4>Pattern Blocking</h4>
                        <p>Dangerous patterns blocked pre-execution</p>
                    </div>
                </div>
                <div class="security-item">
                    <div class="security-icon">&#10003;</div>
                    <div>
                        <h4>Path Filtering</h4>
                        <p>Glob patterns for file access control</p>
                    </div>
                </div>
                <div class="security-item">
                    <div class="security-icon">&#10003;</div>
                    <div>
                        <h4>Network Control</h4>
                        <p>Host and port-level restrictions</p>
                    </div>
                </div>
                <div class="security-item">
                    <div class="security-icon">&#10003;</div>
                    <div>
                        <h4>Resource Limits</h4>
                        <p>Prevent resource exhaustion attacks</p>
                    </div>
                </div>
                <div class="security-item">
                    <div class="security-icon">&#10003;</div>
                    <div>
                        <h4>Complete Audit Trail</h4>
                        <p>Every operation logged for review</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="api-section" id="api">
        <div class="container">
            <h2>API Reference</h2>
            <table class="api-table">
                <thead>
                    <tr>
                        <th>Class</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Sandbox</td>
                        <td>Main sandbox interface for executing code</td>
                    </tr>
                    <tr>
                        <td>SandboxConfig</td>
                        <td>Configuration dataclass for sandbox settings</td>
                    </tr>
                    <tr>
                        <td>SandboxResult</td>
                        <td>Execution result with status, output, and metadata</td>
                    </tr>
                    <tr>
                        <td>PermissionSet</td>
                        <td>Collection of permissions for enforcement</td>
                    </tr>
                    <tr>
                        <td>FilePermission</td>
                        <td>File system access control with glob patterns</td>
                    </tr>
                    <tr>
                        <td>NetworkPermission</td>
                        <td>Network access control with host/port filtering</td>
                    </tr>
                    <tr>
                        <td>ProcessPermission</td>
                        <td>Process spawning control with command filtering</td>
                    </tr>
                    <tr>
                        <td>ProcessIsolation</td>
                        <td>Subprocess-based isolation backend</td>
                    </tr>
                    <tr>
                        <td>ContainerIsolation</td>
                        <td>Docker-based isolation for maximum security</td>
                    </tr>
                    <tr>
                        <td>CodeExecutor</td>
                        <td>Low-level executor with permission checking</td>
                    </tr>
                    <tr>
                        <td>AuditLog</td>
                        <td>Thread-safe audit logging with filtering</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </section>

    <footer>
        <div class="container">
            <p>Built for AI agent security | <a href="https://github.com/BabyChrist666/agent-sandbox">GitHub</a></p>
        </div>
    </footer>
</body>
</html>
